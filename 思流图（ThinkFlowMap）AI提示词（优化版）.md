# 思流图（ThinkFlowMap）AI提示词（优化版）

# 一、项目概述

**项目名称**：思流图（ThinkFlowMap）——对话驱动的结构化思维导图系统

**核心定位**：以对话为核心载体、思维导图为结构化呈现的交互系统，对话过程与导图结构同步生长，支持多分支并行对话与跨节点逻辑关联，适配结构化思考、知识整理与项目规划。请基于以下需求，精准理解思流图的核心逻辑，可用于拆解功能方案、优化交互设计、梳理技术落地思路，重点贴合大学生科创场景，突出与现有LLM对话工具、思维导图工具的差异化。

# 二、核心功能需求

## 1. 导图结构功能

- **节点即对话**：每个节点存储完整对话历史（用户与AI交互记录），支持编辑、折叠、颜色标记，支持文本、链接、简单格式（加粗、列表），节点内容随对话实时更新。

- **多根节点支持**：允许同一画布创建多个独立根节点，表示不同主题或项目起点，各根节点及其分支互不干扰（未关联时）。

- **分支扩展**：从任意节点创建子节点，支持无限嵌套，兼容树状与网状混合结构，适配多角度思考需求。

- **多父节点支持**：一个子节点可同时归属于多个父节点（如"产品宣传"同时属于"技术原理"与"目标客户"），子节点的对话历史可同步继承所有父节点的上下文（需用户手动开启/关闭，默认开启）。

- **关系线连接**：任意两节点间建立单向或双向关系线，可标注关联类型（如"依赖""参考""延伸"），关联类型将影响AI调取内容的优先级（如依赖关系优先调取，参考关系按需调取）。

## 2. 对话上下文管理功能

- **严格上下文隔离**：每个分支拥有独立AI对话上下文，未通过关系线关联的节点，AI完全无法获取其对话内容，不同分支内容严格隔离，避免思考干扰。

- **动态上下文构建**：关系线建立后，关联节点的完整对话历史自动双向同步为彼此的对话上下文，AI在任一关联节点对话时，可主动调用所有关联节点的内容并结合当前节点历史响应。

- **分支回归机制**：支持将分支关键结论提取至主线程或其他指定节点，可选择合并为摘要节点（保留原分支关联）或直接插入目标节点的对话历史，兼顾细节与主线。

## 3. 交互与可视化功能

- **实时导图渲染**：对话过程中导图实时更新，支持拖拽布局、节点折叠/展开、颜色标记、图标标注、关键词搜索定位，适配不同思考节奏。

- **节点合并**：多个相邻或语义相关节点可合并为复合节点，保留原节点完整对话历史，点击可展开查看，避免节点冗余。

- **导出与持久化**：支持导出PNG、SVG、Markdown、JSON格式，数据自动云端同步保存，支持版本快照与历史状态恢复。

- **操作日志**：记录所有用户操作（增删改连合并等），支持时间轴回溯，可恢复到任一历史状态，避免误操作损失。

## 4. 系统性能与扩展要求

- **性能指标**：对话响应时间<2秒，导图渲染时间<1秒（节点数>100），支持至少10个分支同时活跃，保障多维度思考流畅度。

- **可扩展性**：提供RESTful API支持第三方集成，预留插件接口，可自定义节点类型、布局算法、导出格式，适配后续功能迭代与场景拓展。

# 三、使用场景示例

## 场景1：新产品规划

1. 创建根节点"新产品规划"，作为核心主线；

2. 从主线延伸子节点"功能设计"，再从"功能设计"延伸"技术实现"子节点；

3. 从"功能设计"分支出"目标用户分析"，单独深入讨论用户需求细节；

4. 从"技术实现"分支出"开发周期估算"，聚焦工期拆解与人员分配；

5. 连接"目标用户分析"与"开发周期估算"，标注"优先级依赖"，AI在"开发周期估算"节点对话时，自动调取"目标用户分析"的完整内容；

6. 将"技术实现"分支的关键结论提取至主线，生成"技术选型总结"子节点，同步关联"新产品规划"主线与"技术实现"分支。

## 场景2：多维度知识梳理

1. 创建两个根节点"Python编程"和"机器学习基础"，分别承载不同领域知识；

2. 创建子节点"特征工程"，同时挂载到两个根节点下，作为跨领域关联节点；

3. 在"特征工程"节点对话时，AI自动调取两个根节点的相关对话内容，生成兼顾编程实现与理论基础的回复；

4. 从"Python编程"延伸"模型训练"子节点，建立与"特征工程"的"依赖"关系，AI在"模型训练"节点对话时，优先参考"特征工程"的结论。

# 四、非功能需求

- **可用性**：界面简洁清晰，操作符合主流思维导图工具使用习惯，降低用户学习成本；

- **可靠性**：支持数据自动同步与崩溃恢复，核心操作可撤销，保障使用稳定性；

- **安全性**：用户对话数据加密存储，支持访问权限控制，保护隐私与数据安全；

- **可维护性**：采用模块化代码设计，便于后续功能迭代与问题排查。

# 五、核心规则确认

- ✅ 节点核心是完整对话历史，非单纯文本标签，对话与节点一一绑定；

- ✅ 未关联的分支上下文严格隔离，AI不跨分支获取未关联节点的对话内容；

- ✅ 关系线是上下文关联的核心机制，并非仅视觉连接，可影响AI内容调取优先级；

- ✅ 支持多父节点挂载，子节点可继承多个父节点的上下文（用户可控制开关）；

- ✅ 同一画布支持多个根节点，承载不同并行主题，互不干扰（未关联时）。
> （注：文档部分内容可能由 AI 生成）