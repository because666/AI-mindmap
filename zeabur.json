{
  "$schema": "https://schema.zeabur.app/schema.json",
  "name": "ai-mindmap",
  "description": "思流图 - 对话驱动的结构化思维导图系统",
  "services": [
    {
      "name": "client",
      "type": "static",
      "source": {
        "type": "node",
        "path": "client"
      },
      "build": {
        "command": "npm install && npm run build",
        "output": "dist"
      },
      "env": {
        "VITE_API_URL": "${SERVER_URL}"
      }
    },
    {
      "name": "server",
      "type": "web",
      "source": {
        "type": "node",
        "path": "server"
      },
      "build": {
        "command": "npm install && npm run build"
      },
      "start": {
        "command": "npm start"
      },
      "env": {
        "PORT": "3001",
        "MONGODB_URI": "${MONGODB_URI}",
        "NEO4J_URI": "${NEO4J_URI}",
        "NEO4J_USER": "${NEO4J_USER}",
        "NEO4J_PASSWORD": "${NEO4J_PASSWORD}",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}"
      },
      "healthCheck": {
        "path": "/health",
        "interval": 30
      }
    }
  ]
}
